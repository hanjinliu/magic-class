<!DOCTYPE html>
<html class="writer-html5" lang="English" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>pandas.io.parsers.readers &mdash; magic-class 0.6.4 documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/columns.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->

        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
</head>

<body class="wy-body-for-nav">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../../../index.html" class="icon icon-home"> magic-class
          </a>
              <div class="version">
                0.6.4
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../quick_start.html">Quick Start</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../chap_basics.html">Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chap_make_better.html">Make Your GUI Better</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chap_data_vis.html">Data Visualization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../chap_advanced.html">Advanced Topics</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../best_practice.html">Best Practice</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">magic-class</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="../../../index.html">Module code</a> &raquo;</li>
      <li>pandas.io.parsers.readers</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">

  <h1>Source code for pandas.io.parsers.readers</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Module contains tools for processing files into DataFrames or other objects</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">__future__</span> <span class="kn">import</span> <span class="n">annotations</span>

<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">abc</span>
<span class="kn">import</span> <span class="nn">csv</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">from</span> <span class="nn">textwrap</span> <span class="kn">import</span> <span class="n">fill</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>
<span class="kn">import</span> <span class="nn">warnings</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="kn">import</span> <span class="nn">pandas._libs.lib</span> <span class="k">as</span> <span class="nn">lib</span>
<span class="kn">from</span> <span class="nn">pandas._libs.parsers</span> <span class="kn">import</span> <span class="n">STR_NA_VALUES</span>
<span class="kn">from</span> <span class="nn">pandas._typing</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ArrayLike</span><span class="p">,</span>
    <span class="n">DtypeArg</span><span class="p">,</span>
    <span class="n">FilePathOrBuffer</span><span class="p">,</span>
    <span class="n">StorageOptions</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pandas.errors</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">AbstractMethodError</span><span class="p">,</span>
    <span class="n">ParserWarning</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pandas.util._decorators</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">Appender</span><span class="p">,</span>
    <span class="n">deprecate_nonkeyword_arguments</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pandas.util._validators</span> <span class="kn">import</span> <span class="n">validate_bool_kwarg</span>

<span class="kn">from</span> <span class="nn">pandas.core.dtypes.common</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">is_file_like</span><span class="p">,</span>
    <span class="n">is_float</span><span class="p">,</span>
    <span class="n">is_integer</span><span class="p">,</span>
    <span class="n">is_list_like</span><span class="p">,</span>
<span class="p">)</span>

<span class="kn">from</span> <span class="nn">pandas.core</span> <span class="kn">import</span> <span class="n">generic</span>
<span class="kn">from</span> <span class="nn">pandas.core.frame</span> <span class="kn">import</span> <span class="n">DataFrame</span>
<span class="kn">from</span> <span class="nn">pandas.core.indexes.api</span> <span class="kn">import</span> <span class="n">RangeIndex</span>

<span class="kn">from</span> <span class="nn">pandas.io.common</span> <span class="kn">import</span> <span class="n">validate_header_arg</span>
<span class="kn">from</span> <span class="nn">pandas.io.parsers.base_parser</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">ParserBase</span><span class="p">,</span>
    <span class="n">is_index_col</span><span class="p">,</span>
    <span class="n">parser_defaults</span><span class="p">,</span>
<span class="p">)</span>
<span class="kn">from</span> <span class="nn">pandas.io.parsers.c_parser_wrapper</span> <span class="kn">import</span> <span class="n">CParserWrapper</span>
<span class="kn">from</span> <span class="nn">pandas.io.parsers.python_parser</span> <span class="kn">import</span> <span class="p">(</span>
    <span class="n">FixedWidthFieldParser</span><span class="p">,</span>
    <span class="n">PythonParser</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">_doc_read_csv_and_table</span> <span class="o">=</span> <span class="p">(</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">{summary}</span>

<span class="sd">Also supports optionally iterating or breaking of the file</span>
<span class="sd">into chunks.</span>

<span class="sd">Additional help can be found in the online docs for</span>
<span class="sd">`IO Tools &lt;https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html&gt;`_.</span>

<span class="sd">Parameters</span>
<span class="sd">----------</span>
<span class="sd">filepath_or_buffer : str, path object or file-like object</span>
<span class="sd">    Any valid string path is acceptable. The string could be a URL. Valid</span>
<span class="sd">    URL schemes include http, ftp, s3, gs, and file. For file URLs, a host is</span>
<span class="sd">    expected. A local file could be: file://localhost/path/to/table.csv.</span>

<span class="sd">    If you want to pass in a path object, pandas accepts any ``os.PathLike``.</span>

<span class="sd">    By file-like object, we refer to objects with a ``read()`` method, such as</span>
<span class="sd">    a file handle (e.g. via builtin ``open`` function) or ``StringIO``.</span>
<span class="sd">sep : str, default {_default_sep}</span>
<span class="sd">    Delimiter to use. If sep is None, the C engine cannot automatically detect</span>
<span class="sd">    the separator, but the Python parsing engine can, meaning the latter will</span>
<span class="sd">    be used and automatically detect the separator by Python&#39;s builtin sniffer</span>
<span class="sd">    tool, ``csv.Sniffer``. In addition, separators longer than 1 character and</span>
<span class="sd">    different from ``&#39;\s+&#39;`` will be interpreted as regular expressions and</span>
<span class="sd">    will also force the use of the Python parsing engine. Note that regex</span>
<span class="sd">    delimiters are prone to ignoring quoted data. Regex example: ``&#39;\r\t&#39;``.</span>
<span class="sd">delimiter : str, default ``None``</span>
<span class="sd">    Alias for sep.</span>
<span class="sd">header : int, list of int, default &#39;infer&#39;</span>
<span class="sd">    Row number(s) to use as the column names, and the start of the</span>
<span class="sd">    data.  Default behavior is to infer the column names: if no names</span>
<span class="sd">    are passed the behavior is identical to ``header=0`` and column</span>
<span class="sd">    names are inferred from the first line of the file, if column</span>
<span class="sd">    names are passed explicitly then the behavior is identical to</span>
<span class="sd">    ``header=None``. Explicitly pass ``header=0`` to be able to</span>
<span class="sd">    replace existing names. The header can be a list of integers that</span>
<span class="sd">    specify row locations for a multi-index on the columns</span>
<span class="sd">    e.g. [0,1,3]. Intervening rows that are not specified will be</span>
<span class="sd">    skipped (e.g. 2 in this example is skipped). Note that this</span>
<span class="sd">    parameter ignores commented lines and empty lines if</span>
<span class="sd">    ``skip_blank_lines=True``, so ``header=0`` denotes the first line of</span>
<span class="sd">    data rather than the first line of the file.</span>
<span class="sd">names : array-like, optional</span>
<span class="sd">    List of column names to use. If the file contains a header row,</span>
<span class="sd">    then you should explicitly pass ``header=0`` to override the column names.</span>
<span class="sd">    Duplicates in this list are not allowed.</span>
<span class="sd">index_col : int, str, sequence of int / str, or False, default ``None``</span>
<span class="sd">  Column(s) to use as the row labels of the ``DataFrame``, either given as</span>
<span class="sd">  string name or column index. If a sequence of int / str is given, a</span>
<span class="sd">  MultiIndex is used.</span>

<span class="sd">  Note: ``index_col=False`` can be used to force pandas to *not* use the first</span>
<span class="sd">  column as the index, e.g. when you have a malformed file with delimiters at</span>
<span class="sd">  the end of each line.</span>
<span class="sd">usecols : list-like or callable, optional</span>
<span class="sd">    Return a subset of the columns. If list-like, all elements must either</span>
<span class="sd">    be positional (i.e. integer indices into the document columns) or strings</span>
<span class="sd">    that correspond to column names provided either by the user in `names` or</span>
<span class="sd">    inferred from the document header row(s). For example, a valid list-like</span>
<span class="sd">    `usecols` parameter would be ``[0, 1, 2]`` or ``[&#39;foo&#39;, &#39;bar&#39;, &#39;baz&#39;]``.</span>
<span class="sd">    Element order is ignored, so ``usecols=[0, 1]`` is the same as ``[1, 0]``.</span>
<span class="sd">    To instantiate a DataFrame from ``data`` with element order preserved use</span>
<span class="sd">    ``pd.read_csv(data, usecols=[&#39;foo&#39;, &#39;bar&#39;])[[&#39;foo&#39;, &#39;bar&#39;]]`` for columns</span>
<span class="sd">    in ``[&#39;foo&#39;, &#39;bar&#39;]`` order or</span>
<span class="sd">    ``pd.read_csv(data, usecols=[&#39;foo&#39;, &#39;bar&#39;])[[&#39;bar&#39;, &#39;foo&#39;]]``</span>
<span class="sd">    for ``[&#39;bar&#39;, &#39;foo&#39;]`` order.</span>

<span class="sd">    If callable, the callable function will be evaluated against the column</span>
<span class="sd">    names, returning names where the callable function evaluates to True. An</span>
<span class="sd">    example of a valid callable argument would be ``lambda x: x.upper() in</span>
<span class="sd">    [&#39;AAA&#39;, &#39;BBB&#39;, &#39;DDD&#39;]``. Using this parameter results in much faster</span>
<span class="sd">    parsing time and lower memory usage.</span>
<span class="sd">squeeze : bool, default False</span>
<span class="sd">    If the parsed data only contains one column then return a Series.</span>
<span class="sd">prefix : str, optional</span>
<span class="sd">    Prefix to add to column numbers when no header, e.g. &#39;X&#39; for X0, X1, ...</span>
<span class="sd">mangle_dupe_cols : bool, default True</span>
<span class="sd">    Duplicate columns will be specified as &#39;X&#39;, &#39;X.1&#39;, ...&#39;X.N&#39;, rather than</span>
<span class="sd">    &#39;X&#39;...&#39;X&#39;. Passing in False will cause data to be overwritten if there</span>
<span class="sd">    are duplicate names in the columns.</span>
<span class="sd">dtype : Type name or dict of column -&gt; type, optional</span>
<span class="sd">    Data type for data or columns. E.g. {{&#39;a&#39;: np.float64, &#39;b&#39;: np.int32,</span>
<span class="sd">    &#39;c&#39;: &#39;Int64&#39;}}</span>
<span class="sd">    Use `str` or `object` together with suitable `na_values` settings</span>
<span class="sd">    to preserve and not interpret dtype.</span>
<span class="sd">    If converters are specified, they will be applied INSTEAD</span>
<span class="sd">    of dtype conversion.</span>
<span class="sd">engine : {{&#39;c&#39;, &#39;python&#39;}}, optional</span>
<span class="sd">    Parser engine to use. The C engine is faster while the python engine is</span>
<span class="sd">    currently more feature-complete.</span>
<span class="sd">converters : dict, optional</span>
<span class="sd">    Dict of functions for converting values in certain columns. Keys can either</span>
<span class="sd">    be integers or column labels.</span>
<span class="sd">true_values : list, optional</span>
<span class="sd">    Values to consider as True.</span>
<span class="sd">false_values : list, optional</span>
<span class="sd">    Values to consider as False.</span>
<span class="sd">skipinitialspace : bool, default False</span>
<span class="sd">    Skip spaces after delimiter.</span>
<span class="sd">skiprows : list-like, int or callable, optional</span>
<span class="sd">    Line numbers to skip (0-indexed) or number of lines to skip (int)</span>
<span class="sd">    at the start of the file.</span>

<span class="sd">    If callable, the callable function will be evaluated against the row</span>
<span class="sd">    indices, returning True if the row should be skipped and False otherwise.</span>
<span class="sd">    An example of a valid callable argument would be ``lambda x: x in [0, 2]``.</span>
<span class="sd">skipfooter : int, default 0</span>
<span class="sd">    Number of lines at bottom of file to skip (Unsupported with engine=&#39;c&#39;).</span>
<span class="sd">nrows : int, optional</span>
<span class="sd">    Number of rows of file to read. Useful for reading pieces of large files.</span>
<span class="sd">na_values : scalar, str, list-like, or dict, optional</span>
<span class="sd">    Additional strings to recognize as NA/NaN. If dict passed, specific</span>
<span class="sd">    per-column NA values.  By default the following values are interpreted as</span>
<span class="sd">    NaN: &#39;&quot;&quot;&quot;</span>
    <span class="o">+</span> <span class="n">fill</span><span class="p">(</span><span class="s2">&quot;&#39;, &#39;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">STR_NA_VALUES</span><span class="p">)),</span> <span class="mi">70</span><span class="p">,</span> <span class="n">subsequent_indent</span><span class="o">=</span><span class="s2">&quot;    &quot;</span><span class="p">)</span>
    <span class="o">+</span> <span class="s2">&quot;&quot;&quot;&#39;.</span>
<span class="s2">keep_default_na : bool, default True</span>
<span class="s2">    Whether or not to include the default NaN values when parsing the data.</span>
<span class="s2">    Depending on whether `na_values` is passed in, the behavior is as follows:</span>

<span class="s2">    * If `keep_default_na` is True, and `na_values` are specified, `na_values`</span>
<span class="s2">      is appended to the default NaN values used for parsing.</span>
<span class="s2">    * If `keep_default_na` is True, and `na_values` are not specified, only</span>
<span class="s2">      the default NaN values are used for parsing.</span>
<span class="s2">    * If `keep_default_na` is False, and `na_values` are specified, only</span>
<span class="s2">      the NaN values specified `na_values` are used for parsing.</span>
<span class="s2">    * If `keep_default_na` is False, and `na_values` are not specified, no</span>
<span class="s2">      strings will be parsed as NaN.</span>

<span class="s2">    Note that if `na_filter` is passed in as False, the `keep_default_na` and</span>
<span class="s2">    `na_values` parameters will be ignored.</span>
<span class="s2">na_filter : bool, default True</span>
<span class="s2">    Detect missing value markers (empty strings and the value of na_values). In</span>
<span class="s2">    data without any NAs, passing na_filter=False can improve the performance</span>
<span class="s2">    of reading a large file.</span>
<span class="s2">verbose : bool, default False</span>
<span class="s2">    Indicate number of NA values placed in non-numeric columns.</span>
<span class="s2">skip_blank_lines : bool, default True</span>
<span class="s2">    If True, skip over blank lines rather than interpreting as NaN values.</span>
<span class="s2">parse_dates : bool or list of int or names or list of lists or dict, </span><span class="se">\</span>
<span class="s2">default False</span>
<span class="s2">    The behavior is as follows:</span>

<span class="s2">    * boolean. If True -&gt; try parsing the index.</span>
<span class="s2">    * list of int or names. e.g. If [1, 2, 3] -&gt; try parsing columns 1, 2, 3</span>
<span class="s2">      each as a separate date column.</span>
<span class="s2">    * list of lists. e.g.  If [[1, 3]] -&gt; combine columns 1 and 3 and parse as</span>
<span class="s2">      a single date column.</span>
<span class="s2">    * dict, e.g. {{&#39;foo&#39; : [1, 3]}} -&gt; parse columns 1, 3 as date and call</span>
<span class="s2">      result &#39;foo&#39;</span>

<span class="s2">    If a column or index cannot be represented as an array of datetimes,</span>
<span class="s2">    say because of an unparsable value or a mixture of timezones, the column</span>
<span class="s2">    or index will be returned unaltered as an object data type. For</span>
<span class="s2">    non-standard datetime parsing, use ``pd.to_datetime`` after</span>
<span class="s2">    ``pd.read_csv``. To parse an index or column with a mixture of timezones,</span>
<span class="s2">    specify ``date_parser`` to be a partially-applied</span>
<span class="s2">    :func:`pandas.to_datetime` with ``utc=True``. See</span>
<span class="s2">    :ref:`io.csv.mixed_timezones` for more.</span>

<span class="s2">    Note: A fast-path exists for iso8601-formatted dates.</span>
<span class="s2">infer_datetime_format : bool, default False</span>
<span class="s2">    If True and `parse_dates` is enabled, pandas will attempt to infer the</span>
<span class="s2">    format of the datetime strings in the columns, and if it can be inferred,</span>
<span class="s2">    switch to a faster method of parsing them. In some cases this can increase</span>
<span class="s2">    the parsing speed by 5-10x.</span>
<span class="s2">keep_date_col : bool, default False</span>
<span class="s2">    If True and `parse_dates` specifies combining multiple columns then</span>
<span class="s2">    keep the original columns.</span>
<span class="s2">date_parser : function, optional</span>
<span class="s2">    Function to use for converting a sequence of string columns to an array of</span>
<span class="s2">    datetime instances. The default uses ``dateutil.parser.parser`` to do the</span>
<span class="s2">    conversion. Pandas will try to call `date_parser` in three different ways,</span>
<span class="s2">    advancing to the next if an exception occurs: 1) Pass one or more arrays</span>
<span class="s2">    (as defined by `parse_dates`) as arguments; 2) concatenate (row-wise) the</span>
<span class="s2">    string values from the columns defined by `parse_dates` into a single array</span>
<span class="s2">    and pass that; and 3) call `date_parser` once for each row using one or</span>
<span class="s2">    more strings (corresponding to the columns defined by `parse_dates`) as</span>
<span class="s2">    arguments.</span>
<span class="s2">dayfirst : bool, default False</span>
<span class="s2">    DD/MM format dates, international and European format.</span>
<span class="s2">cache_dates : bool, default True</span>
<span class="s2">    If True, use a cache of unique, converted dates to apply the datetime</span>
<span class="s2">    conversion. May produce significant speed-up when parsing duplicate</span>
<span class="s2">    date strings, especially ones with timezone offsets.</span>

<span class="s2">    .. versionadded:: 0.25.0</span>
<span class="s2">iterator : bool, default False</span>
<span class="s2">    Return TextFileReader object for iteration or getting chunks with</span>
<span class="s2">    ``get_chunk()``.</span>

<span class="s2">    .. versionchanged:: 1.2</span>

<span class="s2">       ``TextFileReader`` is a context manager.</span>
<span class="s2">chunksize : int, optional</span>
<span class="s2">    Return TextFileReader object for iteration.</span>
<span class="s2">    See the `IO Tools docs</span>
<span class="s2">    &lt;https://pandas.pydata.org/pandas-docs/stable/io.html#io-chunking&gt;`_</span>
<span class="s2">    for more information on ``iterator`` and ``chunksize``.</span>

<span class="s2">    .. versionchanged:: 1.2</span>

<span class="s2">       ``TextFileReader`` is a context manager.</span>
<span class="s2">compression : {{&#39;infer&#39;, &#39;gzip&#39;, &#39;bz2&#39;, &#39;zip&#39;, &#39;xz&#39;, None}}, default &#39;infer&#39;</span>
<span class="s2">    For on-the-fly decompression of on-disk data. If &#39;infer&#39; and</span>
<span class="s2">    `filepath_or_buffer` is path-like, then detect compression from the</span>
<span class="s2">    following extensions: &#39;.gz&#39;, &#39;.bz2&#39;, &#39;.zip&#39;, or &#39;.xz&#39; (otherwise no</span>
<span class="s2">    decompression). If using &#39;zip&#39;, the ZIP file must contain only one data</span>
<span class="s2">    file to be read in. Set to None for no decompression.</span>
<span class="s2">thousands : str, optional</span>
<span class="s2">    Thousands separator.</span>
<span class="s2">decimal : str, default &#39;.&#39;</span>
<span class="s2">    Character to recognize as decimal point (e.g. use &#39;,&#39; for European data).</span>
<span class="s2">lineterminator : str (length 1), optional</span>
<span class="s2">    Character to break file into lines. Only valid with C parser.</span>
<span class="s2">quotechar : str (length 1), optional</span>
<span class="s2">    The character used to denote the start and end of a quoted item. Quoted</span>
<span class="s2">    items can include the delimiter and it will be ignored.</span>
<span class="s2">quoting : int or csv.QUOTE_* instance, default 0</span>
<span class="s2">    Control field quoting behavior per ``csv.QUOTE_*`` constants. Use one of</span>
<span class="s2">    QUOTE_MINIMAL (0), QUOTE_ALL (1), QUOTE_NONNUMERIC (2) or QUOTE_NONE (3).</span>
<span class="s2">doublequote : bool, default ``True``</span>
<span class="s2">   When quotechar is specified and quoting is not ``QUOTE_NONE``, indicate</span>
<span class="s2">   whether or not to interpret two consecutive quotechar elements INSIDE a</span>
<span class="s2">   field as a single ``quotechar`` element.</span>
<span class="s2">escapechar : str (length 1), optional</span>
<span class="s2">    One-character string used to escape other characters.</span>
<span class="s2">comment : str, optional</span>
<span class="s2">    Indicates remainder of line should not be parsed. If found at the beginning</span>
<span class="s2">    of a line, the line will be ignored altogether. This parameter must be a</span>
<span class="s2">    single character. Like empty lines (as long as ``skip_blank_lines=True``),</span>
<span class="s2">    fully commented lines are ignored by the parameter `header` but not by</span>
<span class="s2">    `skiprows`. For example, if ``comment=&#39;#&#39;``, parsing</span>
<span class="s2">    ``#empty</span><span class="se">\\</span><span class="s2">na,b,c</span><span class="se">\\</span><span class="s2">n1,2,3`` with ``header=0`` will result in &#39;a,b,c&#39; being</span>
<span class="s2">    treated as the header.</span>
<span class="s2">encoding : str, optional</span>
<span class="s2">    Encoding to use for UTF when reading/writing (ex. &#39;utf-8&#39;). `List of Python</span>
<span class="s2">    standard encodings</span>
<span class="s2">    &lt;https://docs.python.org/3/library/codecs.html#standard-encodings&gt;`_ .</span>

<span class="s2">    .. versionchanged:: 1.2</span>

<span class="s2">       When ``encoding`` is ``None``, ``errors=&quot;replace&quot;`` is passed to</span>
<span class="s2">       ``open()``. Otherwise, ``errors=&quot;strict&quot;`` is passed to ``open()``.</span>
<span class="s2">       This behavior was previously only the case for ``engine=&quot;python&quot;``.</span>

<span class="s2">    .. versionchanged:: 1.3.0</span>

<span class="s2">       ``encoding_errors`` is a new argument. ``encoding`` has no longer an</span>
<span class="s2">       influence on how encoding errors are handled.</span>

<span class="s2">encoding_errors : str, optional, default &quot;strict&quot;</span>
<span class="s2">    How encoding errors are treated. `List of possible values</span>
<span class="s2">    &lt;https://docs.python.org/3/library/codecs.html#error-handlers&gt;`_ .</span>

<span class="s2">    .. versionadded:: 1.3.0</span>

<span class="s2">dialect : str or csv.Dialect, optional</span>
<span class="s2">    If provided, this parameter will override values (default or not) for the</span>
<span class="s2">    following parameters: `delimiter`, `doublequote`, `escapechar`,</span>
<span class="s2">    `skipinitialspace`, `quotechar`, and `quoting`. If it is necessary to</span>
<span class="s2">    override values, a ParserWarning will be issued. See csv.Dialect</span>
<span class="s2">    documentation for more details.</span>
<span class="s2">error_bad_lines : bool, default ``None``</span>
<span class="s2">    Lines with too many fields (e.g. a csv line with too many commas) will by</span>
<span class="s2">    default cause an exception to be raised, and no DataFrame will be returned.</span>
<span class="s2">    If False, then these &quot;bad lines&quot; will be dropped from the DataFrame that is</span>
<span class="s2">    returned.</span>

<span class="s2">    .. deprecated:: 1.3.0</span>
<span class="s2">       The ``on_bad_lines`` parameter should be used instead to specify behavior upon</span>
<span class="s2">       encountering a bad line instead.</span>
<span class="s2">warn_bad_lines : bool, default ``None``</span>
<span class="s2">    If error_bad_lines is False, and warn_bad_lines is True, a warning for each</span>
<span class="s2">    &quot;bad line&quot; will be output.</span>

<span class="s2">    .. deprecated:: 1.3.0</span>
<span class="s2">       The ``on_bad_lines`` parameter should be used instead to specify behavior upon</span>
<span class="s2">       encountering a bad line instead.</span>
<span class="s2">on_bad_lines : {{&#39;error&#39;, &#39;warn&#39;, &#39;skip&#39;}}, default &#39;error&#39;</span>
<span class="s2">    Specifies what to do upon encountering a bad line (a line with too many fields).</span>
<span class="s2">    Allowed values are :</span>

<span class="s2">        - &#39;error&#39;, raise an Exception when a bad line is encountered.</span>
<span class="s2">        - &#39;warn&#39;, raise a warning when a bad line is encountered and skip that line.</span>
<span class="s2">        - &#39;skip&#39;, skip bad lines without raising or warning when they are encountered.</span>

<span class="s2">    .. versionadded:: 1.3.0</span>

<span class="s2">delim_whitespace : bool, default False</span>
<span class="s2">    Specifies whether or not whitespace (e.g. ``&#39; &#39;`` or ``&#39;</span><span class="se">\t</span><span class="s2">&#39;``) will be</span>
<span class="s2">    used as the sep. Equivalent to setting ``sep=&#39;</span><span class="se">\\</span><span class="s2">s+&#39;``. If this option</span>
<span class="s2">    is set to True, nothing should be passed in for the ``delimiter``</span>
<span class="s2">    parameter.</span>
<span class="s2">low_memory : bool, default True</span>
<span class="s2">    Internally process the file in chunks, resulting in lower memory use</span>
<span class="s2">    while parsing, but possibly mixed type inference.  To ensure no mixed</span>
<span class="s2">    types either set False, or specify the type with the `dtype` parameter.</span>
<span class="s2">    Note that the entire file is read into a single DataFrame regardless,</span>
<span class="s2">    use the `chunksize` or `iterator` parameter to return the data in chunks.</span>
<span class="s2">    (Only valid with C parser).</span>
<span class="s2">memory_map : bool, default False</span>
<span class="s2">    If a filepath is provided for `filepath_or_buffer`, map the file object</span>
<span class="s2">    directly onto memory and access the data directly from there. Using this</span>
<span class="s2">    option can improve performance because there is no longer any I/O overhead.</span>
<span class="s2">float_precision : str, optional</span>
<span class="s2">    Specifies which converter the C engine should use for floating-point</span>
<span class="s2">    values. The options are ``None`` or &#39;high&#39; for the ordinary converter,</span>
<span class="s2">    &#39;legacy&#39; for the original lower precision pandas converter, and</span>
<span class="s2">    &#39;round_trip&#39; for the round-trip converter.</span>

<span class="s2">    .. versionchanged:: 1.2</span>

<span class="si">{storage_options}</span><span class="s2"></span>

<span class="s2">    .. versionadded:: 1.2</span>

<span class="s2">Returns</span>
<span class="s2">-------</span>
<span class="s2">DataFrame or TextParser</span>
<span class="s2">    A comma-separated values (csv) file is returned as two-dimensional</span>
<span class="s2">    data structure with labeled axes.</span>

<span class="s2">See Also</span>
<span class="s2">--------</span>
<span class="s2">DataFrame.to_csv : Write DataFrame to a comma-separated values (csv) file.</span>
<span class="s2">read_csv : Read a comma-separated values (csv) file into DataFrame.</span>
<span class="s2">read_fwf : Read a table of fixed-width formatted lines into DataFrame.</span>

<span class="s2">Examples</span>
<span class="s2">--------</span>
<span class="s2">&gt;&gt;&gt; pd.</span><span class="si">{func_name}</span><span class="s2">(&#39;data.csv&#39;)  # doctest: +SKIP</span>
<span class="s2">&quot;&quot;&quot;</span>
<span class="p">)</span>


<span class="n">_c_parser_defaults</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;delim_whitespace&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;na_filter&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;low_memory&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
    <span class="s2">&quot;memory_map&quot;</span><span class="p">:</span> <span class="kc">False</span><span class="p">,</span>
    <span class="s2">&quot;error_bad_lines&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;warn_bad_lines&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;float_precision&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">_fwf_defaults</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;colspecs&quot;</span><span class="p">:</span> <span class="s2">&quot;infer&quot;</span><span class="p">,</span> <span class="s2">&quot;infer_nrows&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s2">&quot;widths&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>

<span class="n">_c_unsupported</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;skipfooter&quot;</span><span class="p">}</span>
<span class="n">_python_unsupported</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;low_memory&quot;</span><span class="p">,</span> <span class="s2">&quot;float_precision&quot;</span><span class="p">}</span>

<span class="n">_deprecated_defaults</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;error_bad_lines&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;warn_bad_lines&quot;</span><span class="p">:</span> <span class="kc">None</span><span class="p">}</span>
<span class="n">_deprecated_args</span><span class="p">:</span> <span class="nb">set</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;error_bad_lines&quot;</span><span class="p">,</span> <span class="s2">&quot;warn_bad_lines&quot;</span><span class="p">}</span>


<span class="k">def</span> <span class="nf">validate_integer</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">val</span><span class="p">,</span> <span class="n">min_val</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Checks whether the &#39;name&#39; parameter for parsing is either</span>
<span class="sd">    an integer OR float that can SAFELY be cast to an integer</span>
<span class="sd">    without losing accuracy. Raises a ValueError if that is</span>
<span class="sd">    not the case.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    name : str</span>
<span class="sd">        Parameter name (used for error reporting)</span>
<span class="sd">    val : int or float</span>
<span class="sd">        The value to check</span>
<span class="sd">    min_val : int</span>
<span class="sd">        Minimum allowed value (val &lt; min_val will result in a ValueError)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&#39;</span><span class="si">{</span><span class="n">name</span><span class="si">:</span><span class="s2">s</span><span class="si">}</span><span class="s2">&#39; must be an integer &gt;=</span><span class="si">{</span><span class="n">min_val</span><span class="si">:</span><span class="s2">d</span><span class="si">}</span><span class="s2">&quot;</span>

    <span class="k">if</span> <span class="n">val</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_float</span><span class="p">(</span><span class="n">val</span><span class="p">):</span>
            <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="o">!=</span> <span class="n">val</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
            <span class="n">val</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="k">elif</span> <span class="ow">not</span> <span class="p">(</span><span class="n">is_integer</span><span class="p">(</span><span class="n">val</span><span class="p">)</span> <span class="ow">and</span> <span class="n">val</span> <span class="o">&gt;=</span> <span class="n">min_val</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">val</span>


<span class="k">def</span> <span class="nf">_validate_names</span><span class="p">(</span><span class="n">names</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Raise ValueError if the `names` parameter contains duplicates or has an</span>
<span class="sd">    invalid data type.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    names : array-like or None</span>
<span class="sd">        An array containing a list of the names used for the output DataFrame.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If names are not unique or are not ordered (e.g. set).</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="o">!=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">names</span><span class="p">)):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Duplicate names are not allowed.&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span>
            <span class="n">is_list_like</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">allow_sets</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="ow">or</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">abc</span><span class="o">.</span><span class="n">KeysView</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Names should be an ordered collection.&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">:</span> <span class="n">FilePathOrBuffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Generic reader of line files.&quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;date_parser&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;parse_dates&quot;</span><span class="p">],</span> <span class="nb">bool</span><span class="p">):</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;parse_dates&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

    <span class="c1"># Extract some of the arguments (pass chunksize on).</span>
    <span class="n">iterator</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iterator&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">chunksize</span> <span class="o">=</span> <span class="n">validate_integer</span><span class="p">(</span><span class="s2">&quot;chunksize&quot;</span><span class="p">,</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chunksize&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">nrows</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nrows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

    <span class="c1"># Check for duplicates in names.</span>
    <span class="n">_validate_names</span><span class="p">(</span><span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>

    <span class="c1"># Create the parser.</span>
    <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">parser</span>

    <span class="k">with</span> <span class="n">parser</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">parser</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">nrows</span><span class="p">)</span>


<div class="viewcode-block" id="read_csv"><a class="viewcode-back" href="../../../../apidoc/magicclass.ext.pandas.html#magicclass.ext.pandas.read_csv">[docs]</a><span class="nd">@deprecate_nonkeyword_arguments</span><span class="p">(</span>
    <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allowed_args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;filepath_or_buffer&quot;</span><span class="p">],</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>
<span class="nd">@Appender</span><span class="p">(</span>
    <span class="n">_doc_read_csv_and_table</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">func_name</span><span class="o">=</span><span class="s2">&quot;read_csv&quot;</span><span class="p">,</span>
        <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;Read a comma-separated values (csv) file into DataFrame.&quot;</span><span class="p">,</span>
        <span class="n">_default_sep</span><span class="o">=</span><span class="s2">&quot;&#39;,&#39;&quot;</span><span class="p">,</span>
        <span class="n">storage_options</span><span class="o">=</span><span class="n">generic</span><span class="o">.</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">],</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">read_csv</span><span class="p">(</span>
    <span class="n">filepath_or_buffer</span><span class="p">:</span> <span class="n">FilePathOrBuffer</span><span class="p">,</span>
    <span class="n">sep</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">,</span>
    <span class="n">delimiter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Column and Index Locations and Names</span>
    <span class="n">header</span><span class="o">=</span><span class="s2">&quot;infer&quot;</span><span class="p">,</span>
    <span class="n">names</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">,</span>
    <span class="n">index_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">usecols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">prefix</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">,</span>
    <span class="n">mangle_dupe_cols</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># General Parsing Configuration</span>
    <span class="n">dtype</span><span class="p">:</span> <span class="n">DtypeArg</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">engine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">converters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">true_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">false_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">skipinitialspace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">skiprows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">skipfooter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">nrows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># NA and Missing Data Handling</span>
    <span class="n">na_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">keep_default_na</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">na_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">skip_blank_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># Datetime Handling</span>
    <span class="n">parse_dates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">keep_date_col</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">date_parser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">dayfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">cache_dates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># Iteration</span>
    <span class="n">iterator</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">chunksize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Quoting, Compression, and File Format</span>
    <span class="n">compression</span><span class="o">=</span><span class="s2">&quot;infer&quot;</span><span class="p">,</span>
    <span class="n">thousands</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">decimal</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
    <span class="n">lineterminator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
    <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_MINIMAL</span><span class="p">,</span>
    <span class="n">doublequote</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">escapechar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">encoding_errors</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;strict&quot;</span><span class="p">,</span>
    <span class="n">dialect</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Error Handling</span>
    <span class="n">error_bad_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">warn_bad_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># TODO (2.0): set on_bad_lines to &quot;error&quot;.</span>
    <span class="c1"># See _refine_defaults_read comment for why we do this.</span>
    <span class="n">on_bad_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Internal</span>
    <span class="n">delim_whitespace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">low_memory</span><span class="o">=</span><span class="n">_c_parser_defaults</span><span class="p">[</span><span class="s2">&quot;low_memory&quot;</span><span class="p">],</span>
    <span class="n">memory_map</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">float_precision</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">storage_options</span><span class="p">:</span> <span class="n">StorageOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="c1"># locals() should never be modified</span>
    <span class="n">kwds</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">del</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;filepath_or_buffer&quot;</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">]</span>

    <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
        <span class="n">dialect</span><span class="p">,</span>
        <span class="n">delimiter</span><span class="p">,</span>
        <span class="n">delim_whitespace</span><span class="p">,</span>
        <span class="n">engine</span><span class="p">,</span>
        <span class="n">sep</span><span class="p">,</span>
        <span class="n">error_bad_lines</span><span class="p">,</span>
        <span class="n">warn_bad_lines</span><span class="p">,</span>
        <span class="n">on_bad_lines</span><span class="p">,</span>
        <span class="n">names</span><span class="p">,</span>
        <span class="n">prefix</span><span class="p">,</span>
        <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;,&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span></div>


<span class="nd">@deprecate_nonkeyword_arguments</span><span class="p">(</span>
    <span class="n">version</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">allowed_args</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;filepath_or_buffer&quot;</span><span class="p">],</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">3</span>
<span class="p">)</span>
<span class="nd">@Appender</span><span class="p">(</span>
    <span class="n">_doc_read_csv_and_table</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
        <span class="n">func_name</span><span class="o">=</span><span class="s2">&quot;read_table&quot;</span><span class="p">,</span>
        <span class="n">summary</span><span class="o">=</span><span class="s2">&quot;Read general delimited file into DataFrame.&quot;</span><span class="p">,</span>
        <span class="n">_default_sep</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;&#39;</span><span class="se">\\</span><span class="s2">t&#39; (tab-stop)&quot;</span><span class="p">,</span>
        <span class="n">storage_options</span><span class="o">=</span><span class="n">generic</span><span class="o">.</span><span class="n">_shared_docs</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">],</span>
    <span class="p">)</span>
<span class="p">)</span>
<span class="k">def</span> <span class="nf">read_table</span><span class="p">(</span>
    <span class="n">filepath_or_buffer</span><span class="p">:</span> <span class="n">FilePathOrBuffer</span><span class="p">,</span>
    <span class="n">sep</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">,</span>
    <span class="n">delimiter</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Column and Index Locations and Names</span>
    <span class="n">header</span><span class="o">=</span><span class="s2">&quot;infer&quot;</span><span class="p">,</span>
    <span class="n">names</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">,</span>
    <span class="n">index_col</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">usecols</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">squeeze</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">prefix</span><span class="o">=</span><span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">,</span>
    <span class="n">mangle_dupe_cols</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># General Parsing Configuration</span>
    <span class="n">dtype</span><span class="p">:</span> <span class="n">DtypeArg</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">engine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">converters</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">true_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">false_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">skipinitialspace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">skiprows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">skipfooter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">nrows</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># NA and Missing Data Handling</span>
    <span class="n">na_values</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">keep_default_na</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">na_filter</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">skip_blank_lines</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># Datetime Handling</span>
    <span class="n">parse_dates</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">keep_date_col</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">date_parser</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">dayfirst</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">cache_dates</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="c1"># Iteration</span>
    <span class="n">iterator</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">chunksize</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Quoting, Compression, and File Format</span>
    <span class="n">compression</span><span class="o">=</span><span class="s2">&quot;infer&quot;</span><span class="p">,</span>
    <span class="n">thousands</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">decimal</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;.&quot;</span><span class="p">,</span>
    <span class="n">lineterminator</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">quotechar</span><span class="o">=</span><span class="s1">&#39;&quot;&#39;</span><span class="p">,</span>
    <span class="n">quoting</span><span class="o">=</span><span class="n">csv</span><span class="o">.</span><span class="n">QUOTE_MINIMAL</span><span class="p">,</span>
    <span class="n">doublequote</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
    <span class="n">escapechar</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">comment</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">encoding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">dialect</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># Error Handling</span>
    <span class="n">error_bad_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">warn_bad_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="c1"># TODO (2.0): set on_bad_lines to &quot;error&quot;.</span>
    <span class="c1"># See _refine_defaults_read comment for why we do this.</span>
    <span class="n">on_bad_lines</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">encoding_errors</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">=</span> <span class="s2">&quot;strict&quot;</span><span class="p">,</span>
    <span class="c1"># Internal</span>
    <span class="n">delim_whitespace</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">low_memory</span><span class="o">=</span><span class="n">_c_parser_defaults</span><span class="p">[</span><span class="s2">&quot;low_memory&quot;</span><span class="p">],</span>
    <span class="n">memory_map</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">float_precision</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
<span class="p">):</span>
    <span class="c1"># locals() should never be modified</span>
    <span class="n">kwds</span> <span class="o">=</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">del</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;filepath_or_buffer&quot;</span><span class="p">]</span>
    <span class="k">del</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;sep&quot;</span><span class="p">]</span>

    <span class="n">kwds_defaults</span> <span class="o">=</span> <span class="n">_refine_defaults_read</span><span class="p">(</span>
        <span class="n">dialect</span><span class="p">,</span>
        <span class="n">delimiter</span><span class="p">,</span>
        <span class="n">delim_whitespace</span><span class="p">,</span>
        <span class="n">engine</span><span class="p">,</span>
        <span class="n">sep</span><span class="p">,</span>
        <span class="n">error_bad_lines</span><span class="p">,</span>
        <span class="n">warn_bad_lines</span><span class="p">,</span>
        <span class="n">on_bad_lines</span><span class="p">,</span>
        <span class="n">names</span><span class="p">,</span>
        <span class="n">prefix</span><span class="p">,</span>
        <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delimiter&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">},</span>
    <span class="p">)</span>
    <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">read_fwf</span><span class="p">(</span>
    <span class="n">filepath_or_buffer</span><span class="p">:</span> <span class="n">FilePathOrBuffer</span><span class="p">,</span>
    <span class="n">colspecs</span><span class="o">=</span><span class="s2">&quot;infer&quot;</span><span class="p">,</span>
    <span class="n">widths</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="n">infer_nrows</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span>
    <span class="o">**</span><span class="n">kwds</span><span class="p">,</span>
<span class="p">):</span>
    <span class="sa">r</span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Read a table of fixed-width formatted lines into DataFrame.</span>

<span class="sd">    Also supports optionally iterating or breaking of the file</span>
<span class="sd">    into chunks.</span>

<span class="sd">    Additional help can be found in the `online docs for IO Tools</span>
<span class="sd">    &lt;https://pandas.pydata.org/pandas-docs/stable/user_guide/io.html&gt;`_.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    filepath_or_buffer : str, path object or file-like object</span>
<span class="sd">        Any valid string path is acceptable. The string could be a URL. Valid</span>
<span class="sd">        URL schemes include http, ftp, s3, and file. For file URLs, a host is</span>
<span class="sd">        expected. A local file could be:</span>
<span class="sd">        ``file://localhost/path/to/table.csv``.</span>

<span class="sd">        If you want to pass in a path object, pandas accepts any</span>
<span class="sd">        ``os.PathLike``.</span>

<span class="sd">        By file-like object, we refer to objects with a ``read()`` method,</span>
<span class="sd">        such as a file handle (e.g. via builtin ``open`` function)</span>
<span class="sd">        or ``StringIO``.</span>
<span class="sd">    colspecs : list of tuple (int, int) or &#39;infer&#39;. optional</span>
<span class="sd">        A list of tuples giving the extents of the fixed-width</span>
<span class="sd">        fields of each line as half-open intervals (i.e.,  [from, to[ ).</span>
<span class="sd">        String value &#39;infer&#39; can be used to instruct the parser to try</span>
<span class="sd">        detecting the column specifications from the first 100 rows of</span>
<span class="sd">        the data which are not being skipped via skiprows (default=&#39;infer&#39;).</span>
<span class="sd">    widths : list of int, optional</span>
<span class="sd">        A list of field widths which can be used instead of &#39;colspecs&#39; if</span>
<span class="sd">        the intervals are contiguous.</span>
<span class="sd">    infer_nrows : int, default 100</span>
<span class="sd">        The number of rows to consider when letting the parser determine the</span>
<span class="sd">        `colspecs`.</span>
<span class="sd">    **kwds : optional</span>
<span class="sd">        Optional keyword arguments can be passed to ``TextFileReader``.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    DataFrame or TextParser</span>
<span class="sd">        A comma-separated values (csv) file is returned as two-dimensional</span>
<span class="sd">        data structure with labeled axes.</span>

<span class="sd">    See Also</span>
<span class="sd">    --------</span>
<span class="sd">    DataFrame.to_csv : Write DataFrame to a comma-separated values (csv) file.</span>
<span class="sd">    read_csv : Read a comma-separated values (csv) file into DataFrame.</span>

<span class="sd">    Examples</span>
<span class="sd">    --------</span>
<span class="sd">    &gt;&gt;&gt; pd.read_fwf(&#39;data.csv&#39;)  # doctest: +SKIP</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># Check input arguments.</span>
    <span class="k">if</span> <span class="n">colspecs</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="n">widths</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Must specify either colspecs or widths&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">colspecs</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;infer&quot;</span><span class="p">)</span> <span class="ow">and</span> <span class="n">widths</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;You must specify only one of &#39;widths&#39; and &#39;colspecs&#39;&quot;</span><span class="p">)</span>

    <span class="c1"># Compute &#39;colspecs&#39; from &#39;widths&#39;, if specified.</span>
    <span class="k">if</span> <span class="n">widths</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">colspecs</span><span class="p">,</span> <span class="n">col</span> <span class="o">=</span> <span class="p">[],</span> <span class="mi">0</span>
        <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">widths</span><span class="p">:</span>
            <span class="n">colspecs</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">col</span><span class="p">,</span> <span class="n">col</span> <span class="o">+</span> <span class="n">w</span><span class="p">))</span>
            <span class="n">col</span> <span class="o">+=</span> <span class="n">w</span>

    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;colspecs&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">colspecs</span>
    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;infer_nrows&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">infer_nrows</span>
    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;engine&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;python-fwf&quot;</span>
    <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">TextFileReader</span><span class="p">(</span><span class="n">abc</span><span class="o">.</span><span class="n">Iterator</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>

<span class="sd">    Passed dialect overrides any of the related parser options</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">f</span> <span class="o">=</span> <span class="n">f</span>

        <span class="k">if</span> <span class="n">engine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">engine_specified</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">engine</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>
            <span class="n">engine_specified</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="n">engine</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_engine_specified</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;engine_specified&quot;</span><span class="p">,</span> <span class="n">engine_specified</span><span class="p">)</span>

        <span class="n">_validate_skipfooter</span><span class="p">(</span><span class="n">kwds</span><span class="p">)</span>

        <span class="n">dialect</span> <span class="o">=</span> <span class="n">_extract_dialect</span><span class="p">(</span><span class="n">kwds</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">dialect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kwds</span> <span class="o">=</span> <span class="n">_merge_with_dialect_properties</span><span class="p">(</span><span class="n">dialect</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;header&quot;</span><span class="p">,</span> <span class="s2">&quot;infer&quot;</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;infer&quot;</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;header&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;names&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="kc">None</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">orig_options</span> <span class="o">=</span> <span class="n">kwds</span>

        <span class="c1"># miscellanea</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_currow</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="n">options</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_options_with_defaults</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span>
        <span class="n">options</span><span class="p">[</span><span class="s2">&quot;storage_options&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;storage_options&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">chunksize</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;chunksize&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nrows</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;nrows&quot;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">squeeze</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;squeeze&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_check_file_or_buffer</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_clean_options</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">engine</span><span class="p">)</span>

        <span class="k">if</span> <span class="s2">&quot;has_index_names&quot;</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_get_options_with_defaults</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="p">):</span>
        <span class="n">kwds</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">orig_options</span>

        <span class="n">options</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">default</span><span class="p">:</span> <span class="nb">object</span> <span class="o">|</span> <span class="kc">None</span>

        <span class="k">for</span> <span class="n">argname</span><span class="p">,</span> <span class="n">default</span> <span class="ow">in</span> <span class="n">parser_defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">value</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">argname</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>

            <span class="c1"># see gh-12935</span>
            <span class="k">if</span> <span class="n">argname</span> <span class="o">==</span> <span class="s2">&quot;mangle_dupe_cols&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">value</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Setting mangle_dupe_cols=False is not supported yet&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">options</span><span class="p">[</span><span class="n">argname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">for</span> <span class="n">argname</span><span class="p">,</span> <span class="n">default</span> <span class="ow">in</span> <span class="n">_c_parser_defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">argname</span> <span class="ow">in</span> <span class="n">kwds</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="n">argname</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">engine</span> <span class="o">!=</span> <span class="s2">&quot;c&quot;</span> <span class="ow">and</span> <span class="n">value</span> <span class="o">!=</span> <span class="n">default</span><span class="p">:</span>
                    <span class="k">if</span> <span class="s2">&quot;python&quot;</span> <span class="ow">in</span> <span class="n">engine</span> <span class="ow">and</span> <span class="n">argname</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">_python_unsupported</span><span class="p">:</span>
                        <span class="k">pass</span>
                    <span class="k">elif</span> <span class="n">value</span> <span class="o">==</span> <span class="n">_deprecated_defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">argname</span><span class="p">,</span> <span class="n">default</span><span class="p">):</span>
                        <span class="k">pass</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                            <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">argname</span><span class="p">)</span><span class="si">}</span><span class="s2"> option is not supported with the &quot;</span>
                            <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">engine</span><span class="p">)</span><span class="si">}</span><span class="s2"> engine&quot;</span>
                        <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">value</span> <span class="o">=</span> <span class="n">_deprecated_defaults</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">argname</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>
            <span class="n">options</span><span class="p">[</span><span class="n">argname</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

        <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;python-fwf&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">argname</span><span class="p">,</span> <span class="n">default</span> <span class="ow">in</span> <span class="n">_fwf_defaults</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">options</span><span class="p">[</span><span class="n">argname</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">argname</span><span class="p">,</span> <span class="n">default</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">options</span>

    <span class="k">def</span> <span class="nf">_check_file_or_buffer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">engine</span><span class="p">):</span>
        <span class="c1"># see gh-16530</span>
        <span class="k">if</span> <span class="n">is_file_like</span><span class="p">(</span><span class="n">f</span><span class="p">)</span> <span class="ow">and</span> <span class="n">engine</span> <span class="o">!=</span> <span class="s2">&quot;c&quot;</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;__next__&quot;</span><span class="p">):</span>
            <span class="c1"># The C engine doesn&#39;t need the file-like to have the &quot;__next__&quot;</span>
            <span class="c1"># attribute. However, the Python engine explicitly calls</span>
            <span class="c1"># &quot;__next__(...)&quot; when iterating through such an object, meaning it</span>
            <span class="c1"># needs to have that attribute</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;The &#39;python&#39; engine cannot iterate through this file buffer.&quot;</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_clean_options</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">engine</span><span class="p">):</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

        <span class="n">fallback_reason</span> <span class="o">=</span> <span class="kc">None</span>

        <span class="c1"># C engine not supported yet</span>
        <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;skipfooter&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">fallback_reason</span> <span class="o">=</span> <span class="s2">&quot;the &#39;c&#39; engine does not support skipfooter&quot;</span>
                <span class="n">engine</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>

        <span class="n">sep</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;delimiter&quot;</span><span class="p">]</span>
        <span class="n">delim_whitespace</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;delim_whitespace&quot;</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">sep</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">delim_whitespace</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
                <span class="n">fallback_reason</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;the &#39;c&#39; engine does not support &quot;</span>
                    <span class="s2">&quot;sep=None with delim_whitespace=False&quot;</span>
                <span class="p">)</span>
                <span class="n">engine</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>
        <span class="k">elif</span> <span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">sep</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;c&quot;</span> <span class="ow">and</span> <span class="n">sep</span> <span class="o">==</span> <span class="sa">r</span><span class="s2">&quot;\s+&quot;</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;delim_whitespace&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="s2">&quot;delimiter&quot;</span><span class="p">]</span>
            <span class="k">elif</span> <span class="n">engine</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;python-fwf&quot;</span><span class="p">):</span>
                <span class="c1"># wait until regex engine integrated</span>
                <span class="n">fallback_reason</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;the &#39;c&#39; engine does not support &quot;</span>
                    <span class="s2">&quot;regex separators (separators &gt; 1 char and &quot;</span>
                    <span class="sa">r</span><span class="s2">&quot;different from &#39;\s+&#39; are interpreted as regex)&quot;</span>
                <span class="p">)</span>
                <span class="n">engine</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>
        <span class="k">elif</span> <span class="n">delim_whitespace</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;python&quot;</span> <span class="ow">in</span> <span class="n">engine</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="s2">&quot;delimiter&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="sa">r</span><span class="s2">&quot;\s+&quot;</span>
        <span class="k">elif</span> <span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">encodeable</span> <span class="o">=</span> <span class="kc">True</span>
            <span class="n">encoding</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">getfilesystemencoding</span><span class="p">()</span> <span class="ow">or</span> <span class="s2">&quot;utf-8&quot;</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sep</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">encoding</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="n">encodeable</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
                <span class="n">encodeable</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">encodeable</span> <span class="ow">and</span> <span class="n">engine</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;python-fwf&quot;</span><span class="p">):</span>
                <span class="n">fallback_reason</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;the separator encoded in </span><span class="si">{</span><span class="n">encoding</span><span class="si">}</span><span class="s2"> &quot;</span>
                    <span class="s2">&quot;is &gt; 1 char long, and the &#39;c&#39; engine &quot;</span>
                    <span class="s2">&quot;does not support such separators&quot;</span>
                <span class="p">)</span>
                <span class="n">engine</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>

        <span class="n">quotechar</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;quotechar&quot;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">quotechar</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">quotechar</span><span class="p">,</span> <span class="p">(</span><span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">)):</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">len</span><span class="p">(</span><span class="n">quotechar</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span>
                <span class="ow">and</span> <span class="nb">ord</span><span class="p">(</span><span class="n">quotechar</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">127</span>
                <span class="ow">and</span> <span class="n">engine</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;python&quot;</span><span class="p">,</span> <span class="s2">&quot;python-fwf&quot;</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="n">fallback_reason</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="s2">&quot;ord(quotechar) &gt; 127, meaning the &quot;</span>
                    <span class="s2">&quot;quotechar is larger than one byte, &quot;</span>
                    <span class="s2">&quot;and the &#39;c&#39; engine does not support such quotechars&quot;</span>
                <span class="p">)</span>
                <span class="n">engine</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>

        <span class="k">if</span> <span class="n">fallback_reason</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine_specified</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="n">fallback_reason</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">engine</span> <span class="o">==</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">_c_unsupported</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span>

        <span class="k">if</span> <span class="s2">&quot;python&quot;</span> <span class="ow">in</span> <span class="n">engine</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">_python_unsupported</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">fallback_reason</span> <span class="ow">and</span> <span class="n">result</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">!=</span> <span class="n">_c_parser_defaults</span><span class="p">[</span><span class="n">arg</span><span class="p">]:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                        <span class="s2">&quot;Falling back to the &#39;python&#39; engine because &quot;</span>
                        <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fallback_reason</span><span class="si">}</span><span class="s2">, but this causes </span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">arg</span><span class="p">)</span><span class="si">}</span><span class="s2"> to be &quot;</span>
                        <span class="s2">&quot;ignored as it is not supported by the &#39;python&#39; engine.&quot;</span>
                    <span class="p">)</span>
                <span class="k">del</span> <span class="n">result</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">fallback_reason</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
                <span class="p">(</span>
                    <span class="s2">&quot;Falling back to the &#39;python&#39; engine because &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">fallback_reason</span><span class="si">}</span><span class="s2">; you can avoid this warning by specifying &quot;</span>
                    <span class="s2">&quot;engine=&#39;python&#39;.&quot;</span>
                <span class="p">),</span>
                <span class="n">ParserWarning</span><span class="p">,</span>
                <span class="n">stacklevel</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
            <span class="p">)</span>

        <span class="n">index_col</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;index_col&quot;</span><span class="p">]</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span>
        <span class="n">converters</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;converters&quot;</span><span class="p">]</span>
        <span class="n">na_values</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;na_values&quot;</span><span class="p">]</span>
        <span class="n">skiprows</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;skiprows&quot;</span><span class="p">]</span>

        <span class="n">validate_header_arg</span><span class="p">(</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;header&quot;</span><span class="p">])</span>

        <span class="k">for</span> <span class="n">arg</span> <span class="ow">in</span> <span class="n">_deprecated_args</span><span class="p">:</span>
            <span class="n">parser_default</span> <span class="o">=</span> <span class="n">_c_parser_defaults</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span>
            <span class="n">depr_default</span> <span class="o">=</span> <span class="n">_deprecated_defaults</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span>
            <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">arg</span><span class="p">,</span> <span class="n">depr_default</span><span class="p">)</span> <span class="o">!=</span> <span class="n">depr_default</span><span class="p">:</span>
                <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="sa">f</span><span class="s2">&quot;The </span><span class="si">{</span><span class="n">arg</span><span class="si">}</span><span class="s2"> argument has been deprecated and will be &quot;</span>
                    <span class="s2">&quot;removed in a future version.</span><span class="se">\n\n</span><span class="s2">&quot;</span>
                <span class="p">)</span>
                <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="ne">FutureWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">result</span><span class="p">[</span><span class="n">arg</span><span class="p">]</span> <span class="o">=</span> <span class="n">parser_default</span>

        <span class="k">if</span> <span class="n">index_col</span> <span class="ow">is</span> <span class="kc">True</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;The value of index_col couldn&#39;t be &#39;True&#39;&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">is_index_col</span><span class="p">(</span><span class="n">index_col</span><span class="p">):</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">index_col</span><span class="p">,</span> <span class="p">(</span><span class="nb">list</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)):</span>
                <span class="n">index_col</span> <span class="o">=</span> <span class="p">[</span><span class="n">index_col</span><span class="p">]</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;index_col&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">index_col</span>

        <span class="n">names</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">names</span><span class="p">)</span> <span class="k">if</span> <span class="n">names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">names</span>

        <span class="c1"># type conversion-related</span>
        <span class="k">if</span> <span class="n">converters</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">converters</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
                <span class="k">raise</span> <span class="ne">TypeError</span><span class="p">(</span>
                    <span class="s2">&quot;Type converters must be a dict or subclass, &quot;</span>
                    <span class="sa">f</span><span class="s2">&quot;input was a </span><span class="si">{</span><span class="nb">type</span><span class="p">(</span><span class="n">converters</span><span class="p">)</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2">&quot;</span>
                <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">converters</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># Converting values to NA</span>
        <span class="n">keep_default_na</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s2">&quot;keep_default_na&quot;</span><span class="p">]</span>
        <span class="n">na_values</span><span class="p">,</span> <span class="n">na_fvalues</span> <span class="o">=</span> <span class="n">_clean_na_values</span><span class="p">(</span><span class="n">na_values</span><span class="p">,</span> <span class="n">keep_default_na</span><span class="p">)</span>

        <span class="c1"># handle skiprows; this is internally handled by the</span>
        <span class="c1"># c-engine, so only need for python parsers</span>
        <span class="k">if</span> <span class="n">engine</span> <span class="o">!=</span> <span class="s2">&quot;c&quot;</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">skiprows</span><span class="p">):</span>
                <span class="n">skiprows</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="n">skiprows</span><span class="p">))</span>
            <span class="k">if</span> <span class="n">skiprows</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">skiprows</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
            <span class="k">elif</span> <span class="ow">not</span> <span class="n">callable</span><span class="p">(</span><span class="n">skiprows</span><span class="p">):</span>
                <span class="n">skiprows</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">skiprows</span><span class="p">)</span>

        <span class="c1"># put stuff back</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;converters&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">converters</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;na_values&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">na_values</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;na_fvalues&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">na_fvalues</span>
        <span class="n">result</span><span class="p">[</span><span class="s2">&quot;skiprows&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">skiprows</span>

        <span class="k">return</span> <span class="n">result</span><span class="p">,</span> <span class="n">engine</span>

    <span class="k">def</span> <span class="fm">__next__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_chunk</span><span class="p">()</span>
        <span class="k">except</span> <span class="ne">StopIteration</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="k">raise</span>

    <span class="k">def</span> <span class="nf">_make_engine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s2">&quot;c&quot;</span><span class="p">):</span>
        <span class="n">mapping</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">type</span><span class="p">[</span><span class="n">ParserBase</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;c&quot;</span><span class="p">:</span> <span class="n">CParserWrapper</span><span class="p">,</span>
            <span class="s2">&quot;python&quot;</span><span class="p">:</span> <span class="n">PythonParser</span><span class="p">,</span>
            <span class="s2">&quot;python-fwf&quot;</span><span class="p">:</span> <span class="n">FixedWidthFieldParser</span><span class="p">,</span>
        <span class="p">}</span>
        <span class="k">if</span> <span class="n">engine</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">mapping</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Unknown engine: </span><span class="si">{</span><span class="n">engine</span><span class="si">}</span><span class="s2"> (valid options are </span><span class="si">{</span><span class="n">mapping</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span><span class="si">}</span><span class="s2">)&quot;</span>
            <span class="p">)</span>
        <span class="c1"># error: Too many arguments for &quot;ParserBase&quot;</span>
        <span class="k">return</span> <span class="n">mapping</span><span class="p">[</span><span class="n">engine</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>

    <span class="k">def</span> <span class="nf">_failover_to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="n">AbstractMethodError</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">nrows</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">nrows</span> <span class="o">=</span> <span class="n">validate_integer</span><span class="p">(</span><span class="s2">&quot;nrows&quot;</span><span class="p">,</span> <span class="n">nrows</span><span class="p">)</span>
        <span class="n">index</span><span class="p">,</span> <span class="n">columns</span><span class="p">,</span> <span class="n">col_dict</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">nrows</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">col_dict</span><span class="p">:</span>
                <span class="c1"># Any column is actually fine:</span>
                <span class="n">new_rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">next</span><span class="p">(</span><span class="nb">iter</span><span class="p">(</span><span class="n">col_dict</span><span class="o">.</span><span class="n">values</span><span class="p">())))</span>
                <span class="n">index</span> <span class="o">=</span> <span class="n">RangeIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_currow</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currow</span> <span class="o">+</span> <span class="n">new_rows</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">new_rows</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">new_rows</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

        <span class="n">df</span> <span class="o">=</span> <span class="n">DataFrame</span><span class="p">(</span><span class="n">col_dict</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="n">columns</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">index</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_currow</span> <span class="o">+=</span> <span class="n">new_rows</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">squeeze</span> <span class="ow">and</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">df</span><span class="p">[</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">df</span>

    <span class="k">def</span> <span class="nf">get_chunk</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">size</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">size</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">chunksize</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">nrows</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currow</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nrows</span><span class="p">:</span>
                <span class="k">raise</span> <span class="ne">StopIteration</span>
            <span class="n">size</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">size</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">nrows</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">_currow</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">read</span><span class="p">(</span><span class="n">nrows</span><span class="o">=</span><span class="n">size</span><span class="p">)</span>

    <span class="k">def</span> <span class="fm">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="fm">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">exc_type</span><span class="p">,</span> <span class="n">exc_value</span><span class="p">,</span> <span class="n">traceback</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">TextParser</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Converts lists of lists/tuples into DataFrames with proper type inference</span>
<span class="sd">    and optional (e.g. string to datetime) conversion. Also enables iterating</span>
<span class="sd">    lazily over chunks of large files</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    data : file-like object or list</span>
<span class="sd">    delimiter : separator character to use</span>
<span class="sd">    dialect : str or csv.Dialect instance, optional</span>
<span class="sd">        Ignored if delimiter is longer than 1 character</span>
<span class="sd">    names : sequence, default</span>
<span class="sd">    header : int, default 0</span>
<span class="sd">        Row to use to parse column labels. Defaults to the first row. Prior</span>
<span class="sd">        rows will be discarded</span>
<span class="sd">    index_col : int or list, optional</span>
<span class="sd">        Column or columns to use as the (possibly hierarchical) index</span>
<span class="sd">    has_index_names: bool, default False</span>
<span class="sd">        True if the cols defined in index_col have an index name and are</span>
<span class="sd">        not in the header.</span>
<span class="sd">    na_values : scalar, str, list-like, or dict, optional</span>
<span class="sd">        Additional strings to recognize as NA/NaN.</span>
<span class="sd">    keep_default_na : bool, default True</span>
<span class="sd">    thousands : str, optional</span>
<span class="sd">        Thousands separator</span>
<span class="sd">    comment : str, optional</span>
<span class="sd">        Comment out remainder of line</span>
<span class="sd">    parse_dates : bool, default False</span>
<span class="sd">    keep_date_col : bool, default False</span>
<span class="sd">    date_parser : function, optional</span>
<span class="sd">    skiprows : list of integers</span>
<span class="sd">        Row numbers to skip</span>
<span class="sd">    skipfooter : int</span>
<span class="sd">        Number of line at bottom of file to skip</span>
<span class="sd">    converters : dict, optional</span>
<span class="sd">        Dict of functions for converting values in certain columns. Keys can</span>
<span class="sd">        either be integers or column labels, values are functions that take one</span>
<span class="sd">        input argument, the cell (not column) content, and return the</span>
<span class="sd">        transformed content.</span>
<span class="sd">    encoding : str, optional</span>
<span class="sd">        Encoding to use for UTF when reading/writing (ex. &#39;utf-8&#39;)</span>
<span class="sd">    squeeze : bool, default False</span>
<span class="sd">        returns Series if only one column.</span>
<span class="sd">    infer_datetime_format: bool, default False</span>
<span class="sd">        If True and `parse_dates` is True for a column, try to infer the</span>
<span class="sd">        datetime format based on the first datetime string. If the format</span>
<span class="sd">        can be inferred, there often will be a large parsing speed-up.</span>
<span class="sd">    float_precision : str, optional</span>
<span class="sd">        Specifies which converter the C engine should use for floating-point</span>
<span class="sd">        values. The options are `None` or `high` for the ordinary converter,</span>
<span class="sd">        `legacy` for the original lower precision pandas converter, and</span>
<span class="sd">        `round_trip` for the round-trip converter.</span>

<span class="sd">        .. versionchanged:: 1.2</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;engine&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;python&quot;</span>
    <span class="k">return</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_clean_na_values</span><span class="p">(</span><span class="n">na_values</span><span class="p">,</span> <span class="n">keep_default_na</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="n">na_fvalues</span><span class="p">:</span> <span class="nb">set</span> <span class="o">|</span> <span class="nb">dict</span>
    <span class="k">if</span> <span class="n">na_values</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">keep_default_na</span><span class="p">:</span>
            <span class="n">na_values</span> <span class="o">=</span> <span class="n">STR_NA_VALUES</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">na_values</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">na_fvalues</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">na_values</span><span class="p">,</span> <span class="nb">dict</span><span class="p">):</span>
        <span class="n">old_na_values</span> <span class="o">=</span> <span class="n">na_values</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="n">na_values</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Prevent aliasing.</span>

        <span class="c1"># Convert the values in the na_values dictionary</span>
        <span class="c1"># into array-likes for further use. This is also</span>
        <span class="c1"># where we append the default NaN values, provided</span>
        <span class="c1"># that `keep_default_na=True`.</span>
        <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">old_na_values</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">is_list_like</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="n">v</span> <span class="o">=</span> <span class="p">[</span><span class="n">v</span><span class="p">]</span>

            <span class="k">if</span> <span class="n">keep_default_na</span><span class="p">:</span>
                <span class="n">v</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="o">|</span> <span class="n">STR_NA_VALUES</span>

            <span class="n">na_values</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">v</span>
        <span class="n">na_fvalues</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span> <span class="n">_floatify_na_values</span><span class="p">(</span><span class="n">v</span><span class="p">)</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">na_values</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_list_like</span><span class="p">(</span><span class="n">na_values</span><span class="p">):</span>
            <span class="n">na_values</span> <span class="o">=</span> <span class="p">[</span><span class="n">na_values</span><span class="p">]</span>
        <span class="n">na_values</span> <span class="o">=</span> <span class="n">_stringify_na_values</span><span class="p">(</span><span class="n">na_values</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">keep_default_na</span><span class="p">:</span>
            <span class="n">na_values</span> <span class="o">=</span> <span class="n">na_values</span> <span class="o">|</span> <span class="n">STR_NA_VALUES</span>

        <span class="n">na_fvalues</span> <span class="o">=</span> <span class="n">_floatify_na_values</span><span class="p">(</span><span class="n">na_values</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">na_values</span><span class="p">,</span> <span class="n">na_fvalues</span>


<span class="k">def</span> <span class="nf">_floatify_na_values</span><span class="p">(</span><span class="n">na_values</span><span class="p">):</span>
    <span class="c1"># create float versions of the na_values</span>
    <span class="n">result</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">na_values</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="n">result</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
            <span class="k">pass</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="k">def</span> <span class="nf">_stringify_na_values</span><span class="p">(</span><span class="n">na_values</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;return a stringified and numeric for these values&quot;&quot;&quot;</span>
    <span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span> <span class="o">|</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">float</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">na_values</span><span class="p">:</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">v</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

            <span class="c1"># we are like 999 here</span>
            <span class="k">if</span> <span class="n">v</span> <span class="o">==</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">):</span>
                <span class="n">v</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="s2">.0&quot;</span><span class="p">)</span>
                <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">v</span><span class="p">))</span>

            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">v</span><span class="p">)</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
            <span class="k">pass</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
        <span class="k">except</span> <span class="p">(</span><span class="ne">TypeError</span><span class="p">,</span> <span class="ne">ValueError</span><span class="p">,</span> <span class="ne">OverflowError</span><span class="p">):</span>
            <span class="k">pass</span>
    <span class="k">return</span> <span class="nb">set</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_refine_defaults_read</span><span class="p">(</span>
    <span class="n">dialect</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="n">csv</span><span class="o">.</span><span class="n">Dialect</span><span class="p">,</span>
    <span class="n">delimiter</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">object</span><span class="p">,</span>
    <span class="n">delim_whitespace</span><span class="p">:</span> <span class="nb">bool</span><span class="p">,</span>
    <span class="n">engine</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
    <span class="n">sep</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="nb">object</span><span class="p">,</span>
    <span class="n">error_bad_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">warn_bad_lines</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">on_bad_lines</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span><span class="p">,</span>
    <span class="n">names</span><span class="p">:</span> <span class="n">ArrayLike</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">object</span><span class="p">,</span>
    <span class="n">prefix</span><span class="p">:</span> <span class="nb">str</span> <span class="o">|</span> <span class="kc">None</span> <span class="o">|</span> <span class="nb">object</span><span class="p">,</span>
    <span class="n">defaults</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Validate/refine default values of input parameters of read_csv, read_table.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dialect : str or csv.Dialect</span>
<span class="sd">        If provided, this parameter will override values (default or not) for the</span>
<span class="sd">        following parameters: `delimiter`, `doublequote`, `escapechar`,</span>
<span class="sd">        `skipinitialspace`, `quotechar`, and `quoting`. If it is necessary to</span>
<span class="sd">        override values, a ParserWarning will be issued. See csv.Dialect</span>
<span class="sd">        documentation for more details.</span>
<span class="sd">    delimiter : str or object</span>
<span class="sd">        Alias for sep.</span>
<span class="sd">    delim_whitespace : bool</span>
<span class="sd">        Specifies whether or not whitespace (e.g. ``&#39; &#39;`` or ``&#39;\t&#39;``) will be</span>
<span class="sd">        used as the sep. Equivalent to setting ``sep=&#39;\\s+&#39;``. If this option</span>
<span class="sd">        is set to True, nothing should be passed in for the ``delimiter``</span>
<span class="sd">        parameter.</span>
<span class="sd">    engine : {{&#39;c&#39;, &#39;python&#39;}}</span>
<span class="sd">        Parser engine to use. The C engine is faster while the python engine is</span>
<span class="sd">        currently more feature-complete.</span>
<span class="sd">    sep : str or object</span>
<span class="sd">        A delimiter provided by the user (str) or a sentinel value, i.e.</span>
<span class="sd">        pandas._libs.lib.no_default.</span>
<span class="sd">    error_bad_lines : str or None</span>
<span class="sd">        Whether to error on a bad line or not.</span>
<span class="sd">    warn_bad_lines : str or None</span>
<span class="sd">        Whether to warn on a bad line or not.</span>
<span class="sd">    on_bad_lines : str or None</span>
<span class="sd">        An option for handling bad lines or a sentinel value(None).</span>
<span class="sd">    names : array-like, optional</span>
<span class="sd">        List of column names to use. If the file contains a header row,</span>
<span class="sd">        then you should explicitly pass ``header=0`` to override the column names.</span>
<span class="sd">        Duplicates in this list are not allowed.</span>
<span class="sd">    prefix : str, optional</span>
<span class="sd">        Prefix to add to column numbers when no header, e.g. &#39;X&#39; for X0, X1, ...</span>
<span class="sd">    defaults: dict</span>
<span class="sd">        Default values of input parameters.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    kwds : dict</span>
<span class="sd">        Input parameters with correct values.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError :</span>
<span class="sd">        If a delimiter was specified with ``sep`` (or ``delimiter``) and</span>
<span class="sd">        ``delim_whitespace=True``.</span>
<span class="sd">        If on_bad_lines is specified(not ``None``) and ``error_bad_lines``/</span>
<span class="sd">        ``warn_bad_lines`` is True.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># fix types for sep, delimiter to Union(str, Any)</span>
    <span class="n">delim_default</span> <span class="o">=</span> <span class="n">defaults</span><span class="p">[</span><span class="s2">&quot;delimiter&quot;</span><span class="p">]</span>
    <span class="n">kwds</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># gh-23761</span>
    <span class="c1">#</span>
    <span class="c1"># When a dialect is passed, it overrides any of the overlapping</span>
    <span class="c1"># parameters passed in directly. We don&#39;t want to warn if the</span>
    <span class="c1"># default parameters were passed in (since it probably means</span>
    <span class="c1"># that the user didn&#39;t pass them in explicitly in the first place).</span>
    <span class="c1">#</span>
    <span class="c1"># &quot;delimiter&quot; is the annoying corner case because we alias it to</span>
    <span class="c1"># &quot;sep&quot; before doing comparison to the dialect values later on.</span>
    <span class="c1"># Thus, we need a flag to indicate that we need to &quot;override&quot;</span>
    <span class="c1"># the comparison to dialect values by checking if default values</span>
    <span class="c1"># for BOTH &quot;delimiter&quot; and &quot;sep&quot; were provided.</span>
    <span class="k">if</span> <span class="n">dialect</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;sep_override&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">delimiter</span> <span class="ow">is</span> <span class="kc">None</span> <span class="ow">and</span> <span class="p">(</span>
            <span class="n">sep</span> <span class="ow">is</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span> <span class="ow">or</span> <span class="n">sep</span> <span class="o">==</span> <span class="n">delim_default</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">delimiter</span> <span class="ow">and</span> <span class="p">(</span><span class="n">sep</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Specified a sep and a delimiter; you can only specify one.&quot;</span><span class="p">)</span>

    <span class="k">if</span> <span class="p">(</span>
        <span class="n">names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">names</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span>
        <span class="ow">and</span> <span class="n">prefix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
        <span class="ow">and</span> <span class="n">prefix</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span>
    <span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Specified named and prefix; you can only specify one.&quot;</span><span class="p">)</span>

    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">names</span> <span class="ow">is</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span> <span class="k">else</span> <span class="n">names</span>
    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;prefix&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">if</span> <span class="n">prefix</span> <span class="ow">is</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span> <span class="k">else</span> <span class="n">prefix</span>

    <span class="c1"># Alias sep -&gt; delimiter.</span>
    <span class="k">if</span> <span class="n">delimiter</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">delimiter</span> <span class="o">=</span> <span class="n">sep</span>

    <span class="k">if</span> <span class="n">delim_whitespace</span> <span class="ow">and</span> <span class="p">(</span><span class="n">delimiter</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="s2">&quot;Specified a delimiter with both sep and &quot;</span>
            <span class="s2">&quot;delim_whitespace=True; you can only specify one.&quot;</span>
        <span class="p">)</span>

    <span class="k">if</span> <span class="n">delimiter</span> <span class="ow">is</span> <span class="n">lib</span><span class="o">.</span><span class="n">no_default</span><span class="p">:</span>
        <span class="c1"># assign default separator value</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;delimiter&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">delim_default</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;delimiter&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">delimiter</span>

    <span class="k">if</span> <span class="n">engine</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;engine_specified&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;engine&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;c&quot;</span>
        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;engine_specified&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="c1"># Ensure that on_bad_lines and error_bad_lines/warn_bad_lines</span>
    <span class="c1"># aren&#39;t specified at the same time. If so, raise. Otherwise,</span>
    <span class="c1"># alias on_bad_lines to &quot;error&quot; if error/warn_bad_lines not set</span>
    <span class="c1"># and on_bad_lines is not set. on_bad_lines is defaulted to None</span>
    <span class="c1"># so we can tell if it is set (this is why this hack exists).</span>
    <span class="k">if</span> <span class="n">on_bad_lines</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">error_bad_lines</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">warn_bad_lines</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Both on_bad_lines and error_bad_lines/warn_bad_lines are set. &quot;</span>
                <span class="s2">&quot;Please only set on_bad_lines.&quot;</span>
            <span class="p">)</span>
        <span class="k">if</span> <span class="n">on_bad_lines</span> <span class="o">==</span> <span class="s2">&quot;error&quot;</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">ERROR</span>
        <span class="k">elif</span> <span class="n">on_bad_lines</span> <span class="o">==</span> <span class="s2">&quot;warn&quot;</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">WARN</span>
        <span class="k">elif</span> <span class="n">on_bad_lines</span> <span class="o">==</span> <span class="s2">&quot;skip&quot;</span><span class="p">:</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">SKIP</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Argument </span><span class="si">{</span><span class="n">on_bad_lines</span><span class="si">}</span><span class="s2"> is invalid for on_bad_lines&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">error_bad_lines</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># Must check is_bool, because other stuff(e.g. non-empty lists) eval to true</span>
            <span class="n">validate_bool_kwarg</span><span class="p">(</span><span class="n">error_bad_lines</span><span class="p">,</span> <span class="s2">&quot;error_bad_lines&quot;</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">error_bad_lines</span><span class="p">:</span>
                <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">ERROR</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">warn_bad_lines</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="c1"># This is the case where error_bad_lines is False</span>
                    <span class="c1"># We can only warn/skip if error_bad_lines is False</span>
                    <span class="c1"># None doesn&#39;t work because backwards-compatibility reasons</span>
                    <span class="n">validate_bool_kwarg</span><span class="p">(</span><span class="n">warn_bad_lines</span><span class="p">,</span> <span class="s2">&quot;warn_bad_lines&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="n">warn_bad_lines</span><span class="p">:</span>
                        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">WARN</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">SKIP</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="c1"># Backwards compat, when only error_bad_lines = false, we warn</span>
                    <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">WARN</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Everything None -&gt; Error</span>
            <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;on_bad_lines&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">ParserBase</span><span class="o">.</span><span class="n">BadLineHandleMethod</span><span class="o">.</span><span class="n">ERROR</span>

    <span class="k">return</span> <span class="n">kwds</span>


<span class="k">def</span> <span class="nf">_extract_dialect</span><span class="p">(</span><span class="n">kwds</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">csv</span><span class="o">.</span><span class="n">Dialect</span> <span class="o">|</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Extract concrete csv dialect instance.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    csv.Dialect or None</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;dialect&quot;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="n">dialect</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;dialect&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">dialect</span> <span class="ow">in</span> <span class="n">csv</span><span class="o">.</span><span class="n">list_dialects</span><span class="p">():</span>
        <span class="n">dialect</span> <span class="o">=</span> <span class="n">csv</span><span class="o">.</span><span class="n">get_dialect</span><span class="p">(</span><span class="n">dialect</span><span class="p">)</span>

    <span class="n">_validate_dialect</span><span class="p">(</span><span class="n">dialect</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">dialect</span>


<span class="n">MANDATORY_DIALECT_ATTRS</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;delimiter&quot;</span><span class="p">,</span>
    <span class="s2">&quot;doublequote&quot;</span><span class="p">,</span>
    <span class="s2">&quot;escapechar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;skipinitialspace&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quotechar&quot;</span><span class="p">,</span>
    <span class="s2">&quot;quoting&quot;</span><span class="p">,</span>
<span class="p">)</span>


<span class="k">def</span> <span class="nf">_validate_dialect</span><span class="p">(</span><span class="n">dialect</span><span class="p">:</span> <span class="n">csv</span><span class="o">.</span><span class="n">Dialect</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Validate csv dialect instance.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If incorrect dialect is provided.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">MANDATORY_DIALECT_ATTRS</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">dialect</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Invalid dialect </span><span class="si">{</span><span class="n">dialect</span><span class="si">}</span><span class="s2"> provided&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_merge_with_dialect_properties</span><span class="p">(</span>
    <span class="n">dialect</span><span class="p">:</span> <span class="n">csv</span><span class="o">.</span><span class="n">Dialect</span><span class="p">,</span>
    <span class="n">defaults</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Merge default kwargs in TextFileReader with dialect parameters.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    dialect : csv.Dialect</span>
<span class="sd">        Concrete csv dialect. See csv.Dialect documentation for more details.</span>
<span class="sd">    defaults : dict</span>
<span class="sd">        Keyword arguments passed to TextFileReader.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    kwds : dict</span>
<span class="sd">        Updated keyword arguments, merged with dialect parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">kwds</span> <span class="o">=</span> <span class="n">defaults</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">MANDATORY_DIALECT_ATTRS</span><span class="p">:</span>
        <span class="n">dialect_val</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">dialect</span><span class="p">,</span> <span class="n">param</span><span class="p">)</span>

        <span class="n">parser_default</span> <span class="o">=</span> <span class="n">parser_defaults</span><span class="p">[</span><span class="n">param</span><span class="p">]</span>
        <span class="n">provided</span> <span class="o">=</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">param</span><span class="p">,</span> <span class="n">parser_default</span><span class="p">)</span>

        <span class="c1"># Messages for conflicting values between the dialect</span>
        <span class="c1"># instance and the actual parameters provided.</span>
        <span class="n">conflict_msgs</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="c1"># Don&#39;t warn if the default parameter was passed in,</span>
        <span class="c1"># even if it conflicts with the dialect (gh-23761).</span>
        <span class="k">if</span> <span class="n">provided</span> <span class="o">!=</span> <span class="n">parser_default</span> <span class="ow">and</span> <span class="n">provided</span> <span class="o">!=</span> <span class="n">dialect_val</span><span class="p">:</span>
            <span class="n">msg</span> <span class="o">=</span> <span class="p">(</span>
                <span class="sa">f</span><span class="s2">&quot;Conflicting values for &#39;</span><span class="si">{</span><span class="n">param</span><span class="si">}</span><span class="s2">&#39;: &#39;</span><span class="si">{</span><span class="n">provided</span><span class="si">}</span><span class="s2">&#39; was &quot;</span>
                <span class="sa">f</span><span class="s2">&quot;provided, but the dialect specifies &#39;</span><span class="si">{</span><span class="n">dialect_val</span><span class="si">}</span><span class="s2">&#39;. &quot;</span>
                <span class="s2">&quot;Using the dialect-specified value.&quot;</span>
            <span class="p">)</span>

            <span class="c1"># Annoying corner case for not warning about</span>
            <span class="c1"># conflicts between dialect and delimiter parameter.</span>
            <span class="c1"># Refer to the outer &quot;_read_&quot; function for more info.</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="p">(</span><span class="n">param</span> <span class="o">==</span> <span class="s2">&quot;delimiter&quot;</span> <span class="ow">and</span> <span class="n">kwds</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s2">&quot;sep_override&quot;</span><span class="p">,</span> <span class="kc">False</span><span class="p">)):</span>
                <span class="n">conflict_msgs</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">conflict_msgs</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">conflict_msgs</span><span class="p">),</span> <span class="n">ParserWarning</span><span class="p">,</span> <span class="n">stacklevel</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">kwds</span><span class="p">[</span><span class="n">param</span><span class="p">]</span> <span class="o">=</span> <span class="n">dialect_val</span>
    <span class="k">return</span> <span class="n">kwds</span>


<span class="k">def</span> <span class="nf">_validate_skipfooter</span><span class="p">(</span><span class="n">kwds</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Check whether skipfooter is compatible with other kwargs in TextFileReader.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    kwds : dict</span>
<span class="sd">        Keyword arguments passed to TextFileReader.</span>

<span class="sd">    Raises</span>
<span class="sd">    ------</span>
<span class="sd">    ValueError</span>
<span class="sd">        If skipfooter is not compatible with other parameters.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;skipfooter&quot;</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;iterator&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;chunksize&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;skipfooter&#39; not supported for iteration&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">kwds</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;nrows&quot;</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;&#39;skipfooter&#39; not supported with &#39;nrows&#39;&quot;</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Hanjin Liu.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

</body>
</html>
